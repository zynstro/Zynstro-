<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN" "http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd">
<article lang="">
  <para>PDF Compressor</para>
  <para>Compress PDF <anchor id="downloadLink"/>Download Compressed PDF </para>
  <para>    import { PDFDocument } from 'https://cdn.skypack.dev/pdf-lib';

    const pdfInput = document.getElementById('pdfInput');
    const compressBtn = document.getElementById('compressBtn');
    const downloadLink = document.getElementById('downloadLink');
    let originalPDF;

    pdfInput.addEventListener('change', (event) =&gt; {
      const file = event.target.files[0];
      if (file &amp;&amp; file.type === 'application/pdf') {
        const reader = new FileReader();
        reader.onload = function (e) {
          originalPDF = e.target.result;
          compressBtn.disabled = false;
        };
        reader.readAsArrayBuffer(file);
      } else {
        compressBtn.disabled = true;
      }
    });

    compressBtn.addEventListener('click', async () =&gt; {
      const pdfDoc = await PDFDocument.load(originalPDF);

      // Basic compression by copying pages to a new PDF
      const compressedPdf = await PDFDocument.create();
      const pages = await compressedPdf.copyPages(pdfDoc, pdfDoc.getPageIndices());
      pages.forEach((page) =&gt; compressedPdf.addPage(page));

      const compressedBytes = await compressedPdf.save();
      const blob = new Blob([compressedBytes], { type: 'application/pdf' });
      const url = URL.createObjectURL(blob);
      downloadLink.href = url;
      downloadLink.style.display = 'inline-block';
    });
  </para>
</article>
